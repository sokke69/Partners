<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.app.mapper.MatchingMapper">

<select id="checkRowOfMe" resultType="int">
	SELECT COUNT(id) FROM z#{myId}_matchings WHERE id=#{partnersId} 
</select>

<select id="checkRowOfPartners" resultType="int">
	SELECT COUNT(id) FROM z#{partnersId}_matchings WHERE id=#{myId} 
</select>



<insert id="createRowOfMe" parameterType="int">
	INSERT INTO z#{myId}_matchings (id) VALUES (#{partnersId})
</insert>

<insert id="createRowOfPartners" parameterType="int">
	INSERT INTO z#{partnersId}_matchings (id) VALUES (#{myId})
</insert>



<update id="addSendedNiceOfMe" parameterType="int">
	UPDATE z#{myId}_matchings SET sended_nice=1
	WHERE id=#{partnersId}
</update>

<update id="addReceivedNiceOfPartners" parameterType="int">
	UPDATE z#{partnersId}_matchings SET received_nice=1
	WHERE id=#{myId}
</update>

<select id="checkSendedNiceOfMe" resultType="int">
	SELECT sended_nice FROM z#{myId}_matchings WHERE id=#{partnersId} 
</select>





</mapper>